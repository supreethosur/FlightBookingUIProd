{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport { FlightModel } from '../flight-search/Models/FlightModel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./Service/adminService\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction AdminComponent_div_3_option_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const scheduleType_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", scheduleType_r14);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", scheduleType_r14, \" \");\n  }\n}\n\nfunction AdminComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"submit\", function AdminComponent_div_3_Template_div_submit_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n\n      const _r3 = i0.ɵɵreference(8);\n\n      const _r4 = i0.ɵɵreference(15);\n\n      const _r5 = i0.ɵɵreference(22);\n\n      const _r6 = i0.ɵɵreference(29);\n\n      const _r7 = i0.ɵɵreference(36);\n\n      const _r8 = i0.ɵɵreference(43);\n\n      const _r11 = i0.ɵɵreference(57);\n\n      const _r12 = i0.ɵɵreference(64);\n\n      const _r9 = i0.ɵɵreference(50);\n\n      const _r13 = i0.ɵɵreference(71);\n\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.addNewFlight(_r3.value, _r4.value, \"\", _r5.value, \"\", _r6.value, _r7.value, _r8.value, _r11.value, _r12.value, _r9.value, _r13.value);\n    });\n    i0.ɵɵelementStart(1, \"form\", 8);\n    i0.ɵɵelementStart(2, \"fieldset\");\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵelementStart(4, \"label\", 10);\n    i0.ɵɵtext(5, \"Flight Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelement(7, \"input\", 11, 12);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 9);\n    i0.ɵɵelementStart(11, \"label\", 13);\n    i0.ɵɵtext(12, \"Airline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelement(14, \"input\", 14, 15);\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 9);\n    i0.ɵɵelementStart(18, \"label\", 16);\n    i0.ɵɵtext(19, \"Departure Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵelement(21, \"input\", 17, 18);\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 9);\n    i0.ɵɵelementStart(25, \"label\", 19);\n    i0.ɵɵtext(26, \"Arrival Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"br\");\n    i0.ɵɵelement(28, \"input\", 20, 21);\n    i0.ɵɵelement(30, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 9);\n    i0.ɵɵelementStart(32, \"label\", 22);\n    i0.ɵɵtext(33, \"From Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"br\");\n    i0.ɵɵelement(35, \"input\", 23, 24);\n    i0.ɵɵelement(37, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 9);\n    i0.ɵɵelementStart(39, \"label\", 25);\n    i0.ɵɵtext(40, \"to Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"br\");\n    i0.ɵɵelement(42, \"input\", 26, 27);\n    i0.ɵɵelement(44, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 9);\n    i0.ɵɵelementStart(46, \"label\", 28);\n    i0.ɵɵtext(47, \"Schedule Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(48, \"br\");\n    i0.ɵɵelementStart(49, \"select\", 29, 30);\n    i0.ɵɵtemplate(51, AdminComponent_div_3_option_51_Template, 2, 2, \"option\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 9);\n    i0.ɵɵelementStart(53, \"label\", 32);\n    i0.ɵɵtext(54, \"No Of Business Seats\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(55, \"br\");\n    i0.ɵɵelement(56, \"input\", 33, 34);\n    i0.ɵɵelement(58, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"div\", 9);\n    i0.ɵɵelementStart(60, \"label\", 35);\n    i0.ɵɵtext(61, \"No Of Non-Business Seats\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(62, \"br\");\n    i0.ɵɵelement(63, \"input\", 36, 37);\n    i0.ɵɵelement(65, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"div\", 9);\n    i0.ɵɵelementStart(67, \"label\", 38);\n    i0.ɵɵtext(68, \"amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(69, \"br\");\n    i0.ɵɵelement(70, \"input\", 39, 40);\n    i0.ɵɵelement(72, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"div\", 9);\n    i0.ɵɵelementStart(74, \"button\", 41);\n    i0.ɵɵtext(75, \" Add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.addFlight);\n    i0.ɵɵadvance(51);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.schedule_Type);\n    i0.ɵɵadvance(23);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.addFlight.invalid);\n  }\n}\n\nfunction AdminComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelementStart(20, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function AdminComponent_tr_30_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const flight_r17 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.deleteFlight(flight_r17.flightId);\n    });\n    i0.ɵɵtext(21, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const flight_r17 = ctx.$implicit;\n    const i_r18 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r18 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.flightName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.airline);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.fromLocation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.toLocation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.departureTime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.arrivalTime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.scheduleType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(flight_r17.amount);\n  }\n}\n\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    constructor(adminservice) {\n      this.adminservice = adminservice;\n      this.isFormRequired = 0;\n      this.token = null;\n      this.schedule_Type = ['Daily', 'Week-Days', 'Week-Ends'];\n      this.searchFlightsForm = new FormGroup({\n        searchbar: new FormControl(\"\", [// Validators.pattern(\"\"),\n        ])\n      });\n      this.addFlight = new FormGroup({\n        flightName: new FormControl(\"\", []),\n        airline: new FormControl(\"\", []),\n        // departureDate: new FormControl(\"\", [\n        // ]),\n        departureTime: new FormControl(\"\", []),\n        arrivalTime: new FormControl(\"\", []),\n        arrivalDate: new FormControl(\"\", []),\n        fromLocation: new FormControl(\"\", []),\n        toLocation: new FormControl(\"\", []),\n        businessSeats: new FormControl(\"\", []),\n        nonBusinessSeats: new FormControl(\"\", []),\n        scheduleType: new FormControl(\"\", []),\n        amount: new FormControl(\"\", [])\n      });\n      this.getFlights(\"\");\n      this.token = localStorage.getItem(\"token\");\n    }\n\n    ngOnInit() {}\n\n    addNewFlight(flightName, airline, departureDate, departureTime, arrivalDate, arrivalTime, fromLocation, toLocation, businessSeats, nonBusinessSeats, scheduleType, amount) {\n      console.log(JSON.stringify(scheduleType));\n      this.flightModel = new FlightModel(airline, fromLocation, toLocation, flightName, 0, departureDate, departureTime + \".00\", arrivalDate, arrivalTime + \".00\", Number(businessSeats), Number(nonBusinessSeats), Number(amount), scheduleType);\n      console.log(\"inside service\");\n      console.log(JSON.stringify(this.flightModel));\n      this.adminservice.addNewFlight(this.flightModel).subscribe({\n        next: res => {\n          console.log(res);\n          this.getFlights(\"\");\n        }\n      });\n    }\n\n    getFlights(flightName) {\n      console.log(\"hello\");\n      this.adminservice.getFlights(flightName).subscribe({\n        next: res => {\n          this.flightsList = res; // let temp: FlightModel[] |undefined =;\n        }\n      });\n    }\n\n    generateForm() {\n      if (this.isFormRequired == 0) {\n        this.isFormRequired = 1;\n      } else {\n        this.isFormRequired = 0;\n      }\n    }\n\n    deleteFlight(flightid) {\n      console.log(flightid);\n      this.adminservice.deleteFlight(flightid).subscribe({\n        next: res => {\n          this.getFlights(\"\");\n        }\n      });\n    }\n\n  }\n\n  AdminComponent.ɵfac = function AdminComponent_Factory(t) {\n    return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.adminService));\n  };\n\n  AdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminComponent,\n    selectors: [[\"app-admin\"]],\n    decls: 32,\n    vars: 3,\n    consts: [[1, \"addFormbutton\", 3, \"click\"], [\"class\", \"addFlight\", 3, \"formGroup\", \"submit\", 4, \"ngIf\"], [1, \"searchbar\", 3, \"formGroup\", \"submit\"], [\"placeholder\", \"FlightName\", \"formControlName\", \"searchbar\", \"type\", \"text\", \"id\", \"searchbar\", 3, \"keyup\"], [\"searchbar\", \"\"], [\"border\", \"1\", 1, \"flightList\"], [4, \"ngFor\", \"ngForOf\"], [1, \"addFlight\", 3, \"formGroup\", \"submit\"], [1, \"pure-form\", \"pure-form-aligned\"], [1, \"pure-control-group\"], [\"for\", \"flightName\"], [\"type\", \"text\", \"id\", \"flightName\", \"formControlName\", \"flightName\"], [\"flightName\", \"\"], [\"for\", \"airline\"], [\"type\", \"text\", \"id\", \"airline\", \"formControlName\", \"airline\"], [\"airline\", \"\"], [\"for\", \"departureTime\"], [\"type\", \"time\", \"id\", \"departureTime\", \"formControlName\", \"departureTime\"], [\"departureTime\", \"\"], [\"for\", \"arrivalTime\"], [\"type\", \"time\", \"id\", \"arrivalTime\", \"formControlName\", \"arrivalTime\"], [\"arrivalTime\", \"\"], [\"for\", \"fromLocation\"], [\"type\", \"text\", \"id\", \"fromLocation\", \"formControlName\", \"fromLocation\"], [\"fromLocation\", \"\"], [\"for\", \"toLocation\"], [\"type\", \"text\", \"id\", \"toLocation\", \"formControlName\", \"toLocation\"], [\"toLocation\", \"\"], [\"for\", \"scheduleType\"], [\"id\", \"scheduleType\", \"formControlName\", \"scheduleType\"], [\"scheduleType\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"businessSeats\"], [\"type\", \"text\", \"id\", \"businessSeats\", \"formControlName\", \"businessSeats\"], [\"businessSeats\", \"\"], [\"for\", \"nonBusinessSeats\"], [\"type\", \"text\", \"id\", \"nonBusinessSeats\", \"formControlName\", \"nonBusinessSeats\"], [\"nonBusinessSeats\", \"\"], [\"for\", \"amount\"], [\"type\", \"text\", \"id\", \"amount\", \"formControlName\", \"amount\"], [\"amount\", \"\"], [3, \"disabled\"], [3, \"value\"], [3, \"click\"]],\n    template: function AdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r21 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"body\");\n        i0.ɵɵelementStart(1, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_1_listener() {\n          return ctx.generateForm();\n        });\n        i0.ɵɵtext(2, \"Add New Flight\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, AdminComponent_div_3_Template, 76, 3, \"div\", 1);\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵelementStart(5, \"form\", 2);\n        i0.ɵɵlistener(\"submit\", function AdminComponent_Template_form_submit_5_listener() {\n          i0.ɵɵrestoreView(_r21);\n\n          const _r1 = i0.ɵɵreference(7);\n\n          return ctx.getFlights(_r1.value);\n        });\n        i0.ɵɵelementStart(6, \"input\", 3, 4);\n        i0.ɵɵlistener(\"keyup\", function AdminComponent_Template_input_keyup_6_listener() {\n          i0.ɵɵrestoreView(_r21);\n\n          const _r1 = i0.ɵɵreference(7);\n\n          return ctx.getFlights(_r1.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\");\n        i0.ɵɵtext(9, \" Search Flights\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"table\", 5);\n        i0.ɵɵelementStart(11, \"tr\");\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"S.No.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Flight Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Airline\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\");\n        i0.ɵɵtext(19, \"From Location \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"To Location \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Departure Time \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Arrival Time\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Schedule Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, AdminComponent_tr_30_Template, 22, 9, \"tr\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isFormRequired == 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.searchFlightsForm);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"ngForOf\", ctx.flightsList);\n      }\n    },\n    directives: [i2.NgIf, i3.NgControlStatusGroup, i3.ɵNgNoValidate, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i2.NgForOf, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    styles: [\"body[_ngcontent-%COMP%]{background-color:#5f9ea0}.pure-form[_ngcontent-%COMP%]{float:left;background-color:#a55231;padding:2%}.searchbar[_ngcontent-%COMP%]{position:fixed;top:5%;right:5%}.flightList[_ngcontent-%COMP%]{position:fixed;top:10%;right:5%}\"]\n  });\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}